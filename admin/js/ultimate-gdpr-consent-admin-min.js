!function($){"use strict";function t(t,n){this.element=t,this.options=$.extend({},a,n),this._defaults=a,this._name=e,this.init()}var e="ultimate_gdpr_consent",a={hello:"World"};$.extend(t.prototype,{init:function(){var t=this;this.elements={},this.elements.navTabWrapper=$("#ugc-nav-tab-wrapper.nav-tab-wrapper"),this.elements.navTab=$(".ugc-nav-tab.nav-tab"),this.elements.tabs=$(".ugc-tab"),this.enableNavTabs()},enableNavTabs:function(){var t=this;t.elements.navTab.on("click",function(e){e.preventDefault();var a=$(this).attr("href");t.elements.navTab.removeClass("nav-tab-active"),$(this).addClass("nav-tab-active"),t.elements.tabs.removeClass("ugc-tab-active"),$(a).addClass("ugc-tab-active"),console.log("test")})}}),$.fn[e]=function(a){return this.each(function(){$.data(this,"plugin_"+e)||$.data(this,"plugin_"+e,new t(this,a))})},$(document).ready(function(){$("body").ultimate_gdpr_consent()});var n=angular.module("ugcApp",["color.picker"]);n.controller("GeneralSetting",["$scope","$timeout","$http","ugcFactory",function(t,e,a,n){t.form={},t.colorPickerOptions={format:"rgb",allowEmpty:!0},n.getSetting(t).then(function(e){t.form=e.data},function(t){console.error(t)}),t.saveChanges=function(){n.saveSetting(t).then(function(t){n.showAlert({result:!0,title:"Saved"})},function(t){console.error(t)})},t.sendPolicyUpdates=function(e){$(e.currentTarget).val("Sending...").attr("disabled",!0).removeClass("button-primary"),n.sendPolicyUpdates(t).then(function(t){$(e.currentTarget).val("All done!").attr("disabled",!1).addClass("button-primary")})},t.sendDataBreachEmail=function(e){$(e.currentTarget).val("Sending...").attr("disabled",!0).removeClass("button-primary"),n.sendDataBreachEmail(t).then(function(t){$(e.currentTarget).val("All done!").attr("disabled",!1).addClass("button-primary")})}}]),n.factory("ugcFactory",["$http",function(t){var e={};return e.showAlert=function(t){t.result?(void 0===t.title&&(t.title="Good job!"),swal({title:t.title,text:t.message,timer:1200,type:"success"})):(void 0===t.title&&(t.title="Oops..."),swal({title:t.title,text:t.message,timer:1200,type:"error"}))},e.getSetting=function(t){return console.log("querying setting"),t.post_data={action:"ugc_get_settings"},e.doPostAjaxHttpRequest(t)},e.saveSetting=function(t){return t.post_data={action:"update",option_page:plugin_name,_wpnonce:$("input#_wpnonce").val(),"ultimate-gdpr-consent":t.form},e.doPostOptionsHttpRequest(t)},e.sendPolicyUpdates=function(t){return t.post_data={action:"ugc_send_policy_updates"},e.doPostAjaxHttpRequest(t)},e.sendDataBreachEmail=function(t){return t.post_data={action:"ugc_send_data_breach_email"},e.doPostAjaxHttpRequest(t)},e.doPostOptionsHttpRequest=function(e){return t({url:admin_url+"options.php",method:"POST",data:$.param(e.post_data),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},e.doPostAjaxHttpRequest=function(e){return t({url:ajaxurl,method:"POST",data:$.param(e.post_data),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},e}])}(jQuery);